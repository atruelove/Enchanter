<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Symbol.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">rhino</a> &gt; <a href="index.source.html" class="el_package">org.mozilla.javascript.ast</a> &gt; <span class="el_source">Symbol.java</span></div><h1>Symbol.java</h1><pre class="source lang-java linenums">/* -*- Mode: java; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 4 -*-
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

package org.mozilla.javascript.ast;

import org.mozilla.javascript.Node;
import org.mozilla.javascript.Token;

/**
 * Represents a symbol-table entry.
 */
public class Symbol {

    // One of Token.FUNCTION, Token.LP (for parameters), Token.VAR,
    // Token.LET, or Token.CONST
    private int declType;
<span class="fc" id="L20">    private int index = -1;</span>
    private String name;
    private Node node;
    private Scope containingTable;

<span class="fc" id="L25">    public Symbol() {</span>
<span class="fc" id="L26">    }</span>

    /**
     * Constructs a new Symbol with a specific name and declaration type
     * @param declType {@link Token#FUNCTION}, {@link Token#LP}
     * (for params), {@link Token#VAR}, {@link Token#LET} or {@link Token#CONST}
     */
<span class="fc" id="L33">    public Symbol(int declType, String name) {</span>
<span class="fc" id="L34">        setName(name);</span>
<span class="fc" id="L35">        setDeclType(declType);</span>
<span class="fc" id="L36">    }</span>

    /**
     * Returns symbol declaration type
     */
    public int getDeclType() {
<span class="fc" id="L42">        return declType;</span>
    }

    /**
     * Sets symbol declaration type
     */
    public void setDeclType(int declType) {
<span class="pc bpc" id="L49" title="2 of 10 branches missed.">        if (!(declType == Token.FUNCTION</span>
              || declType == Token.LP
              || declType == Token.VAR
              || declType == Token.LET
              || declType == Token.CONST))
<span class="fc" id="L54">            throw new IllegalArgumentException(&quot;Invalid declType: &quot; + declType);</span>
<span class="fc" id="L55">        this.declType = declType;</span>
<span class="fc" id="L56">    }</span>

    /**
     * Returns symbol name
     */
    public String getName() {
<span class="fc" id="L62">        return name;</span>
    }

    /**
     * Sets symbol name
     */
    public void setName(String name) {
<span class="fc" id="L69">        this.name = name;</span>
<span class="fc" id="L70">    }</span>

    /**
     * Returns the node associated with this identifier
     */
    public Node getNode() {
<span class="fc" id="L76">        return node;</span>
    }

    /**
     * Returns symbol's index in its scope
     */
    public int getIndex() {
<span class="fc" id="L83">        return index;</span>
    }

    /**
     * Sets symbol's index in its scope
     */
    public void setIndex(int index) {
<span class="fc" id="L90">        this.index = index;</span>
<span class="fc" id="L91">    }</span>

    /**
     * Sets the node associated with this identifier
     */
    public void setNode(Node node) {
<span class="fc" id="L97">        this.node = node;</span>
<span class="fc" id="L98">    }</span>

    /**
     * Returns the Scope in which this symbol is entered
     */
    public Scope getContainingTable() {
<span class="fc" id="L104">        return containingTable;</span>
    }

    /**
     * Sets this symbol's Scope
     */
    public void setContainingTable(Scope containingTable) {
<span class="fc" id="L111">        this.containingTable = containingTable;</span>
<span class="fc" id="L112">    }</span>

    public String getDeclTypeName() {
<span class="fc" id="L115">        return Token.typeToName(declType);</span>
    }

    @Override
    public String toString() {
<span class="fc" id="L120">        StringBuilder result = new StringBuilder();</span>
<span class="fc" id="L121">        result.append(&quot;Symbol (&quot;);</span>
<span class="fc" id="L122">        result.append(getDeclTypeName());</span>
<span class="fc" id="L123">        result.append(&quot;) name=&quot;);</span>
<span class="fc" id="L124">        result.append(name);</span>
<span class="pc bpc" id="L125" title="1 of 2 branches missed.">        if (node != null) {</span>
<span class="fc" id="L126">            result.append(&quot; line=&quot;);</span>
<span class="fc" id="L127">            result.append(node.getLineno());</span>
        }
<span class="fc" id="L129">        return result.toString();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>